!function(){"use strict";function t(t,e){return t(e={exports:{}},e.exports),e.exports}var a=t(function(t,e){function r(){var t,e,r="";for(t=0;t<32;t++)e=16*Math.random()|0,8!==t&&12!==t&&16!==t&&20!==t||(r+="-"),r+=(12===t?4:16===t?3&e|8:e).toString(16);return r}function n(t,e){var r=o[e||"all"];return r&&r.test(t)||!1}var i,o;i=e,o={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i},r.isUUID=n,r.VERSION="0.1.0",i.uuid=r,i.isUUID=n,null!==t&&(t.exports=e.uuid)}),s=t(function(t,e){t.exports=function(){var u="millisecond",l="second",p="minute",g="hour",m="day",y="week",v="month",c="quarter",$="year",i=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,w=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,o=function(t,e,r){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(r)+t},t={s:o,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),n=Math.floor(r/60),i=r%60;return(e<=0?"+":"-")+o(n,2,"0")+":"+o(i,2,"0")},m:function(t,e){var r=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(r,v),i=e-n<0,o=t.clone().add(r+(i?-1:1),v);return Number(-(r+(e-n)/(i?n-o:o-n))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:v,y:$,w:y,d:m,D:"date",h:g,m:p,s:l,ms:u,Q:c}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},e={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},a="en",s={};s[a]=e;var h=function(t){return t instanceof A},d=function(t,e,r){var n;if(!t)return a;if("string"==typeof t)s[t]&&(n=t),e&&(s[t]=e,n=t);else{var i=t.name;s[i]=t,n=i}return!r&&n&&(a=n),n||!r&&a},f=function(t,e,r){if(h(t))return t.clone();var n=e?"string"==typeof e?{format:e,pl:r}:e:{};return n.date=t,new A(n)},M=t;M.l=d,M.i=h,M.w=function(t,e){return f(t,{locale:e.$L,utc:e.$u,$offset:e.$offset})};var A=function(){function t(t){this.$L=this.$L||d(t.locale,null,!0),this.parse(t)}var e=t.prototype;return e.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if(M.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(i);if(n)return r?new Date(Date.UTC(n[1],n[2]-1,n[3]||1,n[4]||0,n[5]||0,n[6]||0,n[7]||0)):new Date(n[1],n[2]-1,n[3]||1,n[4]||0,n[5]||0,n[6]||0,n[7]||0)}return new Date(e)}(t),this.init()},e.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},e.$utils=function(){return M},e.isValid=function(){return!("Invalid Date"===this.$d.toString())},e.isSame=function(t,e){var r=f(t);return this.startOf(e)<=r&&r<=this.endOf(e)},e.isAfter=function(t,e){return f(t)<this.startOf(e)},e.isBefore=function(t,e){return this.endOf(e)<f(t)},e.$g=function(t,e,r){return M.u(t)?this[e]:this.set(r,t)},e.year=function(t){return this.$g(t,"$y",$)},e.month=function(t){return this.$g(t,"$M",v)},e.day=function(t){return this.$g(t,"$W",m)},e.date=function(t){return this.$g(t,"$D","date")},e.hour=function(t){return this.$g(t,"$H",g)},e.minute=function(t){return this.$g(t,"$m",p)},e.second=function(t){return this.$g(t,"$s",l)},e.millisecond=function(t){return this.$g(t,"$ms",u)},e.unix=function(){return Math.floor(this.valueOf()/1e3)},e.valueOf=function(){return this.$d.getTime()},e.startOf=function(t,e){var n=this,i=!!M.u(e)||e,r=M.p(t),o=function(t,e){var r=M.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return i?r:r.endOf(m)},a=function(t,e){return M.w(n.toDate()[t].apply(n.toDate(),(i?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},s=this.$W,u=this.$M,c=this.$D,h="set"+(this.$u?"UTC":"");switch(r){case $:return i?o(1,0):o(31,11);case v:return i?o(1,u):o(0,u+1);case y:var d=this.$locale().weekStart||0,f=(s<d?s+7:s)-d;return o(i?c-f:c+(6-f),u);case m:case"date":return a(h+"Hours",0);case g:return a(h+"Minutes",1);case p:return a(h+"Seconds",2);case l:return a(h+"Milliseconds",3);default:return this.clone()}},e.endOf=function(t){return this.startOf(t,!1)},e.$set=function(t,e){var r,n=M.p(t),i="set"+(this.$u?"UTC":""),o=(r={},r[m]=i+"Date",r.date=i+"Date",r[v]=i+"Month",r[$]=i+"FullYear",r[g]=i+"Hours",r[p]=i+"Minutes",r[l]=i+"Seconds",r[u]=i+"Milliseconds",r)[n],a=n===m?this.$D+(e-this.$W):e;if(n===v||n===$){var s=this.clone().set("date",1);s.$d[o](a),s.init(),this.$d=s.set("date",Math.min(this.$D,s.daysInMonth())).toDate()}else o&&this.$d[o](a);return this.init(),this},e.set=function(t,e){return this.clone().$set(t,e)},e.get=function(t){return this[M.p(t)]()},e.add=function(r,t){var e,n=this;r=Number(r);var i=M.p(t),o=function(t){var e=f(n);return M.w(e.date(e.date()+Math.round(t*r)),n)};if(i===v)return this.set(v,this.$M+r);if(i===$)return this.set($,this.$y+r);if(i===m)return o(1);if(i===y)return o(7);var a=(e={},e[p]=6e4,e[g]=36e5,e[l]=1e3,e)[i]||1,s=this.$d.getTime()+r*a;return M.w(s,this)},e.subtract=function(t,e){return this.add(-1*t,e)},e.format=function(t){var i=this;if(!this.isValid())return"Invalid Date";var o=t||"YYYY-MM-DDTHH:mm:ssZ",r=M.z(this),e=this.$locale(),n=this.$H,a=this.$m,s=this.$M,u=e.weekdays,c=e.months,h=function(t,e,r,n){return t&&(t[e]||t(i,o))||r[e].substr(0,n)},d=function(t){return M.s(n%12||12,t,"0")},f=e.meridiem||function(t,e,r){var n=t<12?"AM":"PM";return r?n.toLowerCase():n},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:M.s(s+1,2,"0"),MMM:h(e.monthsShort,s,c,3),MMMM:c[s]||c(this,o),D:this.$D,DD:M.s(this.$D,2,"0"),d:String(this.$W),dd:h(e.weekdaysMin,this.$W,u,2),ddd:h(e.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(n),HH:M.s(n,2,"0"),h:d(1),hh:d(2),a:f(n,a,!0),A:f(n,a,!1),m:String(a),mm:M.s(a,2,"0"),s:String(this.$s),ss:M.s(this.$s,2,"0"),SSS:M.s(this.$ms,3,"0"),Z:r};return o.replace(w,function(t,e){return e||l[t]||r.replace(":","")})},e.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},e.diff=function(t,e,r){var n,i=M.p(e),o=f(t),a=6e4*(o.utcOffset()-this.utcOffset()),s=this-o,u=M.m(this,o);return u=(n={},n[$]=u/12,n[v]=u,n[c]=u/3,n[y]=(s-a)/6048e5,n[m]=(s-a)/864e5,n[g]=s/36e5,n[p]=s/6e4,n[l]=s/1e3,n)[i]||s,r?u:M.a(u)},e.daysInMonth=function(){return this.endOf(v).$D},e.$locale=function(){return s[this.$L]},e.locale=function(t,e){if(!t)return this.$L;var r=this.clone(),n=d(t,e,!0);return n&&(r.$L=n),r},e.clone=function(){return M.w(this.$d,this)},e.toDate=function(){return new Date(this.valueOf())},e.toJSON=function(){return this.isValid()?this.toISOString():null},e.toISOString=function(){return this.$d.toISOString()},e.toString=function(){return this.$d.toUTCString()},t}();return f.prototype=A.prototype,f.extend=function(t,e){return t(e,A,f),f},f.locale=d,f.isDayjs=h,f.unix=function(t){return f(1e3*t)},f.en=s[a],f.Ls=s,f}()});function u(t){var i={target:"confetti-holder",max:80,size:1,animate:!0,respawn:!0,props:["circle","square","triangle","line"],colors:[[165,104,246],[230,61,135],[0,199,228],[253,214,126]],clock:25,interval:null,rotate:!1,start_from_edge:!1,width:window.innerWidth,height:window.innerHeight};if(t&&(t.target&&(i.target=t.target),t.max&&(i.max=t.max),t.size&&(i.size=t.size),void 0!==t.animate&&null!==t.animate&&(i.animate=t.animate),void 0!==t.respawn&&null!==t.respawn&&(i.respawn=t.respawn),t.props&&(i.props=t.props),t.colors&&(i.colors=t.colors),t.clock&&(i.clock=t.clock),void 0!==t.start_from_edge&&null!==t.start_from_edge&&(i.start_from_edge=t.start_from_edge),t.width&&(i.width=t.width),t.height&&(i.height=t.height),void 0!==t.rotate&&null!==t.rotate&&(i.rotate=t.rotate)),"object"!=typeof i.target&&"string"!=typeof i.target)throw new TypeError("The target parameter should be a node or string");if("object"==typeof i.target&&(null===i.target||!i.target instanceof HTMLCanvasElement)||"string"==typeof i.target&&(null===document.getElementById(i.target)||!document.getElementById(i.target)instanceof HTMLCanvasElement))throw new ReferenceError("The target element does not exist or is not a canvas element");var e="object"==typeof i.target?i.target:document.getElementById(i.target),o=e.getContext("2d"),r=[];function n(t,e){t=t||1;var r=Math.random()*t;return e?Math.floor(r):r}var a=i.props.reduce(function(t,e){return t+(e.weight||1)},0);function s(){var t=i.props[function(){for(var t=Math.random()*a,e=0;e<i.props.length;++e){var r=i.props[e].weight||1;if(t<r)return e;t-=r}}()];return{prop:t.type?t.type:t,x:n(i.width),y:i.start_from_edge?0<=i.clock?-10:parseFloat(i.height)+10:n(i.height),src:t.src,radius:n(4)+1,size:t.size,rotate:i.rotate,line:Math.floor(n(65)-30),angles:[n(10,!0)+2,n(10,!0)+2,n(10,!0)+2,n(10,!0)+2],color:i.colors[n(i.colors.length,!0)],rotation:n(360,!0)*Math.PI/180,speed:n(i.clock/7)+i.clock/30}}function u(t){if(t){var e=t.radius<=3?.4:.8;switch(o.fillStyle=o.strokeStyle="rgba("+t.color+", "+e+")",o.beginPath(),t.prop){case"circle":o.moveTo(t.x,t.y),o.arc(t.x,t.y,t.radius*i.size,0,2*Math.PI,!0),o.fill();break;case"triangle":o.moveTo(t.x,t.y),o.lineTo(t.x+t.angles[0]*i.size,t.y+t.angles[1]*i.size),o.lineTo(t.x+t.angles[2]*i.size,t.y+t.angles[3]*i.size),o.closePath(),o.fill();break;case"line":o.moveTo(t.x,t.y),o.lineTo(t.x+t.line*i.size,t.y+5*t.radius),o.lineWidth=2*i.size,o.stroke();break;case"square":o.save(),o.translate(t.x+15,t.y+5),o.rotate(t.rotation),o.fillRect(-15*i.size,-5*i.size,15*i.size,5*i.size),o.restore();break;case"svg":o.save();var r=new window.Image;r.src=t.src;var n=t.size||15;o.translate(t.x+n/2,t.y+n/2),t.rotate&&o.rotate(t.rotation),o.drawImage(r,-n/2*i.size,-n/2*i.size,n*i.size,n*i.size),o.restore()}}}function c(){i.animate=!1,clearInterval(i.interval),requestAnimationFrame(function(){o.clearRect(0,0,e.width,e.height);var t=e.width;e.width=1,e.width=t})}return{render:function(){e.width=i.width,e.height=i.height,r=[];for(var t=0;t<i.max;t++)r.push(s());return requestAnimationFrame(function t(){for(var e in o.clearRect(0,0,i.width,i.height),r)u(r[e]);!function(){for(var t=0;t<i.max;t++){var e=r[t];e&&(i.animate&&(e.y+=e.speed),e.rotate&&(e.rotation+=e.speed/35),(0<=e.speed&&e.y>i.height||e.speed<0&&e.y<0)&&(i.respawn?(r[t]=e,r[t].x=n(i.width,!0),r[t].y=0<=e.speed?-10:parseFloat(i.height)):r[t]=void 0))}r.every(function(t){return void 0===t})&&c()}(),i.animate&&requestAnimationFrame(t)})},clear:c}}var e=t(function(t,e){function r(t,e){this.prefix=t,this.store=e}var a,s;s={isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},isPlainObj:function(t){return t===Object(t)},toArray:function(t){return Array.prototype.slice.call(t)},prepareArgs:function(t,e){return(t=s.toArray(t)).unshift(e),t},getObjKeyByValue:function(t,e){for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e)return r},retrieve:function(t,e){return null==t?e:t},serialize:function(t){return JSON.stringify(t)},unserialize:function(t){return null==t?a:JSON.parse(t)}},r.prototype.addPrefix=function(t){return this.prefix+t},r.prototype.get=function(t,e){var r;if(e=e||a,s.isArray(t)){for(var n={},i=0,o=t.length;i<o;i++)n[r=t[i]]=this.get(r,e);return n}return r=this.addPrefix(t),s.retrieve(s.unserialize(this.store.getItem(r)),e)},r.prototype.set=function(t,e){if(s.isPlainObj(t))for(var r in t)t.hasOwnProperty(r)&&this.set(r,t[r]);else t=this.addPrefix(t),this.store.setItem(t,s.serialize(e));return this},r.prototype.invert=function(t){return this.set(t,!this.get(t))},r.prototype.add=function(t,e){return this.set(t,this.get(t)+parseInt(e,10))},r.prototype.increase=function(t,e){return this.add(t,s.retrieve(e,1))},r.prototype.decrease=function(t,e){return this.add(t,-s.retrieve(e,1))},r.prototype.concat=function(t,e){return this.set(t,this.get(t)+e)},r.prototype.push=function(t,e){var r=s.toArray(arguments),n=this.get(t,[]);return r.splice(0,1),n.push.apply(n,r),this.set(t,n)},r.prototype.extend=function(t,e,r){var n=this.get(t,{});if(s.isPlainObj(e))for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);else n[e]=r;return this.set(t,n)},r.prototype.remove=function(t){for(var e=0,r=(t=s.isArray(t)?t:s.toArray(arguments)).length;e<r;e++){var n=this.addPrefix(t[e]);this.store.removeItem(n)}return this},r.prototype.empty=function(){for(var t=this.store.length-1;0<=t;t--){var e=this.store.key(t);0===e.indexOf(this.prefix)&&this.store.removeItem(e)}return this},r.prototype.all=function(){for(var t={},e=0,r=this.store.length;e<r;e++){var n=this.store.key(e);if(0===n.indexOf(this.prefix)){var i=s.unserialize(this.store.getItem(n));t[n=n.substring(this.prefix.length)]=i}}return t},t.exports=r}),c=t(function(t,e){t.exports=function(p,t,g){p=p||{};var e=t.prototype;g.en.relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};var r=function(t,e,r,n){for(var i,o,a,s=r.$locale().relativeTime,u=p.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],c=u.length,h=0;h<c;h+=1){var d=u[h];d.d&&(i=n?g(t).diff(r,d.d,!0):r.diff(t,d.d,!0));var f=(p.rounding||Math.round)(Math.abs(i));if(a=0<i,f<=d.r||!d.r){f<=1&&0<h&&(d=u[h-1]);var l=s[d.l];o="string"==typeof l?l.replace("%d",f):l(f,e,d.l,a);break}}return e?o:(a?s.future:s.past).replace("%s",o)};e.to=function(t,e){return r(t,e,this,!0)},e.from=function(t,e){return r(t,e,this)};var n=function(t){return t.$u?g.utc():g()};e.toNow=function(t){return this.to(n(this),t)},e.fromNow=function(t){return this.from(n(this),t)}}});function h(){return Math.floor(100*Math.random())}function d(o){var r=document.getElementById("list-item").innerHTML,t=o.sort(function(t,e){return parseInt(e.score)-parseInt(t.score)}).map(function(t){s.extend(c);var e=s().from(s(t.updatedAt));return r.replace(/{{id}}/g,t.id).replace(/{{name}}/g,t.name).replace(/{{daysAgo}}/g,e).replace(/{{score}}/g,t.score)});document.getElementById("list").innerHTML=t.join("");for(var a=document.querySelectorAll(".btn-success"),n=document.querySelectorAll(".btn-danger"),e=function(i){a[i].onclick=function(){var e=a[i].dataset.id,t=o.find(function(t){return t.id===e}),r=o.indexOf(t);o[r].score=o[r].score+h(),o[r].updatedAt=s(),d(o);var n=document.querySelector("#container-".concat(e));n.classList.add("background-secondary"),setInterval(function(){n.classList.remove("background-secondary")},1500)},n[i].onclick=function(){var e=n[i].dataset.id,t=o.find(function(t){return t.id===e}),r=o.indexOf(t);o[r].score=o[r].score-h(),o[r].updatedAt=s(),d(o)}},i=0;i<a.length;i++)e(i)}var r=new e("leaderboard_",localStorage),f=[],n=r.get("data");d(f=n&&0<n.length?r.get("data"):[{id:a(),name:"Dan Abramov",score:50,updatedAt:s().toDate()},{id:a(),name:"Evan You",score:30,updatedAt:s().toDate()},{id:a(),name:"Rich Harris",score:15,updatedAt:s().toDate()}]),document.querySelector("form").onsubmit=function(t){t.preventDefault();var e=new u({target:"confetti-canvas",animate:!0,width:800,height:document.querySelector(".paper.container").offsetHeight}),r=document.querySelector("#name"),n=r.value,i=h(),o=a();s().toDate();f.push({id:o,name:n,score:i}),r.value="",d(f),e.render(),setTimeout(function(){e.clear()},3e3)},document.onvisibilitychange=function(){r.set({data:f})},"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/service-worker.js")})}();
